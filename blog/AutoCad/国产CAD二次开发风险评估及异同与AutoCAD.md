---
title: 国产CAD二次开发风险评估
categories: 编码
tags:
  - Other
date: 2018-08-21 21:58:32
---

## 国产CAD二次开发风险评估
---
### 总体评估
总体上，国产CAD提供的二次开发SDK，基本能满足现有设计软件系统二次开发需求，且开发接口差异微小。又因其对ObjectARX兼容较好，所以开发成本非常低。
#### - 中望CAD

中望对Open Design(以下简称OD)提供的接口做的二次封装相对浩辰更为完善，封装性较好。基本无法找到OD接口的痕迹，所以在二次开发过程中基本无异于AutoCAD。在对其进行预研过程中，所遇到的问题也相对较少，可见中望提供的SDK更为强健。

#### - 浩辰CAD

而浩辰CAD，相较于中望对OD封装较差，多半是原生OD库与接口，仅仅利用宏进行名称转换，没有进行深层封装。所以暴露的问题较多，在预研过程中遇到的问题较多，但也不影响核心功能。对其进行宏转换(替换)，或是稍作封装。基本上不会给后续开发带来问题。因OD提供支持较好。

### 预测风险
#### - 中望CAD

可能存在的预测风险，通常由部分接口(或模块)不支持引发,此类接口通常为不必须的。所以此类风险发生概率很低。以下稍作介绍：

- **不支持接口**

    - acdbLoadMlineStyleFile

        功能: 从文件中加载Mline样式。

        现况: 现已返回null处理

- **不支持模块**
    
    - DesignCenter Interface

        功能: 设计中心
    
    - eTransmit Interface

        功能: 用于将图纸打包进行网络传输

中望CAD基本对AutoCAD所有功能都提供支持，且接口转换较好，仅仅需要开发者对ObjectArx开发熟悉，基本对中望二次开发无碍。

#### - 浩辰CAD

经过预研过后，虽然浩辰存在一些细碎却问题，但始终不影响主体功能。只要后续开发，注重预研成果文档中的要点，基本风险较小。而可能存在的不可预知风险，可能就是因为其部分实体基类不同或是UI类基类不同而引发的问题，或是代理实体注册顺序而引发的问题。下面例举部分：

- **基类不同**

    - **AcDbEntity**的基类中存在亦同，其接口也有所不同，导致其为抽象类，部分接口并未实现
    - **CAdUiDockControlBar**基类不同，导致部分接口存在差异
    - **ACDB_REGISTER_OBJECT_ENTRY_AUTO** 宏提供的注册代理实体数据结构，在构建链表时没有遵循继承关系，导致代理实体注册失败。

- **其他**

    - **updateMTextAttributeDefinition**返回值不同
    - **AcDbIntArray** 数据结构不一致

但终归，不会影响整体功能实现。开发成本和风险还是相对较小的。

## 国产CAD与AutoCAD异同
国产CAD与AutoCAD在所提供的功能上差异微小。用户操作上基本相同。所以对于用户操作习惯来说，基本迁移无碍。所以对公司还是客户，迁移成本都不大。还能供用户喜好而进行更多选择。下面进行具体分析：

- **价钱方面:**
显然，不论是客户还是公司，第一个关注的是价钱。国产CAD价格多在5k~10k之间，没有超过1万元。而autocad需要1万+.

- **基本功能:**
国产CAD提供了AutoCAD所有核心功能，对现有设计软件系统而言，已经满足。

- **软件大小:**
国产CAD安装包仅仅200~300M上下，而AutoCAD动辄上一个G。相对来说国产CAD较为轻量。

- **UI界面:**
国产CAD对其界面设计，基本与AutoCAD差不多，最大的不同就是各国产CAD对其UI由不同主题肤色。

- **用户操作:**
用户操作差异性也相对较小

